"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"SEQ-010","P1","1","backend","确认自指文本渲染与基线","定位自指消息文本渲染路径并记录当前基线表现(不改代码)。","在当前版本渲染test_sequence.md后，自指消息文本保持90度旋转的基线现象；普通消息与框内文本方向/位置记录截图。","MANUAL_REGRESSION","仅检查自指消息渲染路径与文本角度相关单元，不触碰其他消息渲染逻辑；确保不修改输出格式/字体/字号/对齐。","manual_test_prereq: hardware_setup=N/A; build=<build_cmd>; flash=<flash_cmd>; log=<render_cmd> -> <output_visio_path>; manual_test_steps: 1) Render test_sequence.md -> expect: output created; 2) Check self-call label orientation -> expect: 90deg baseline; 3) Check normal/alt/opt/loop text -> expect: baseline captured; pass_criteria: Baseline screenshots captured; evidence: <output_visio_path> + screenshots; risk: low","已完成","已完成","已完成","已提交","","plan/2026-01-04_17-14-22-self-message-text-rotation.md:28;md2visio/vsdx/VDrawerSeq.cs:524","picked_reason:先做基线确认以建立修复对照; validation_limited:当前环境无法运行Visio渲染/生成vsdx与截图; manual_test: manual_test_prereq: hardware_setup=N/A; build_cmd:<build_cmd>; flash_cmd:<flash_cmd>; log_cmd:<render_cmd> -> <output_visio_path>; manual_test_steps: 1) Render test_sequence.md -> expect: output created; 2) Check self-call label orientation -> expect: 90deg baseline; 3) Check normal/alt/opt/loop text -> expect: baseline captured; pass_criteria: Baseline screenshots captured; evidence: <output_visio_path> + screenshots; risk: low; evidence: code_inspection: md2visio/vsdx/VDrawerSeq.cs:567; done_at:2026-01-04; evidence_summary:代码检查确认自指消息文本绑定在垂直线段 line2.Text"
"SEQ-020","P1","2","backend","确定最小修复方案与文本放置规则","评估可选方案并确定自指文本水平显示的最小改动路径。","明确采用方案A(独立文本框)或方案B(强制文本角度=0)，并记录目标单元与偏移规则；不引入范围扩展。","MANUAL_REGRESSION","复核VShapeDrawer与sequence.yaml相关参数，确保决策不改变非自指消息渲染逻辑和字体/字号/对齐。","manual_test_prereq: hardware_setup=N/A; build=<build_cmd>; flash=<flash_cmd>; log=<render_cmd> -> <output_visio_path>; manual_test_steps: 1) Render baseline output -> expect: unchanged; pass_criteria: baseline unchanged and decision recorded; evidence: <output_visio_path> + decision note; risk: low","未开始","未开始","未开始","未提交","","plan/2026-01-04_17-14-22-self-message-text-rotation.md:53;md2visio/vsdx/@base/VShapeDrawer.cs:90;md2visio/default/sequence.yaml:29",""
"SEQ-030","P1","3","backend","实现自指消息文本水平显示","在自指消息绘制路径上实现水平文本显示并保持现有样式。","渲染test_sequence.md后，自指消息文本水平显示且不再旋转90度；普通消息与alt/opt/loop框内文本方向与位置无可见回归；字体/字号/对齐保持一致。","MANUAL_REGRESSION","修改仅限自指消息文本角度/放置；避免影响常规消息箭头/线型；保留既有字体/字号/对齐配置。","manual_test_prereq: hardware_setup=N/A; build=<build_cmd>; flash=<flash_cmd>; log=<render_cmd> -> <output_visio_path>; manual_test_steps: 1) Render test_sequence.md -> expect: output created; 2) Check self-call label -> expect: horizontal; 3) Check normal/alt/opt/loop text -> expect: no regression; pass_criteria: self-call fixed, others unchanged; evidence: <output_visio_path> + after-fix screenshots; risk: medium","未开始","未开始","未开始","未提交","","plan/2026-01-04_17-14-22-self-message-text-rotation.md:78;md2visio/vsdx/VDrawerSeq.cs:524;md2visio/default/sequence.yaml:29",""
"SEQ-040","P1","4","backend","完成手动回归与证据归档","完成最终手动回归并整理AC证据集。","AC1/AC2/AC3均通过且具备前后对比截图与输出文件证据。","MANUAL_REGRESSION","核对证据完整性与可追溯性(截图、输出路径、版本信息)，确认回滚条件已明确。","manual_test_prereq: hardware_setup=N/A; build=<build_cmd>; flash=<flash_cmd>; log=<render_cmd> -> <output_visio_path>; manual_test_steps: 1) Render test_sequence.md with final build -> expect: output generated; 2) Validate AC1/AC2/AC3 visually -> expect: pass; pass_criteria: AC1/AC2/AC3 all satisfied with screenshots; evidence: <output_visio_path> + before/after screenshots + build_info; risk: medium","未开始","未开始","未开始","未提交","","plan/2026-01-04_17-14-22-self-message-text-rotation.md:103;plan/2026-01-04_17-14-22-self-message-text-rotation.md:135",""
